<?php

 
# 
</br>


# Instalar
	</br>
	$ php.exe -r "readfile('https://symfony.com/installer');" > symfony
	</br>

# creación proyecto nombre igual carpeta
	</br>
	$ php.exe symfony new miproyectoy
	</br>


# crear Bundle Bundle name [FixWebBundle]:  [annotation] [src/] 
	</br>
	$ php.exe bin/console generate:bundle
	</br>


#Controller  [annotation][twig]
/**
 * @Route(path="/blog")
 */
	 </br>
	$ php.exe bin/console generate:controller
	</br>
/**
 * BlogController::indexAction()
 * 
 * @Route(path="/index", name="taller")
 * @return void
 */

 
 #Entity Doctrine 
	 </br>
	$ php.exe bin/console doctrine:generate:entity
	 </br>
// [annotation]:
// The Entity shortcut name: FixServicemeBundle:Estados
// New field name (press <return> to stop adding fields): Nombre 
	</br>
// crear tablas en bd
	 </br>
	$ php.exe bin/console doctrine:schema:update --force
	 </br>

 
 
  # forms 
  	 </br>
  $ php.exe bin/console doctrine:generate:form FixServicemeBundle:Usuarios
 	 </br>

  # actualizar metodos set y get de las relaciones  
  	 </br>
  php.exe bin/console doctrine:generate:entities FixServicemeBundle
 	 </br>
  #
	<br/>
 #seguridad

$ php.exe bin/console generate:controller --no-interaction --controller*FixServicemeBundle:Security



 
	<br />
documentacion de symfony entrar a bundles y seleccionar bundlefixturesbundle
#composer require --dev doctrine/doctrine-fixtures-bundle
    <br />

# por consola xampp up bd
    # mysql -u root -p serviceme_2017 < serviceme_2017.sql
    Enter password: ******
    <br/>




  
 <hr/>
 ///////////////////////
 # validación COMPOSER Formularios 
 
 ??? $ composer require symfony/symfony
??? composer require symfony/finder

 use \Symfony\Component\Validator\Constraints\NotBlank;
 
             ->add('usuario', TextType::class, 
                    array('label' => 'Usuario',
                          'constraints' => array(
                            new Constraint\NotBlank(array('message' => 'Debe ingresar el Usuario')),
                            )
                        ))
						
						
		            ->add('usuario', 'Symfony\Component\Form\Extension\Core\Type\TextType', array(
				'label' => 'Usuario',
				'constraints' => array(
					new Constraints\NotBlank(array('message' => 'Ingresar'))
					
				)
			))  
 
 /////////////////////////////////
 
 <hr/>

 
 #ref symnfony ver 2 vs ver 3:
 
 
 // $form = $this->createForm(new UserType(), $entity, array(
 <br/>
     $form = $this->createForm(UserType::class, $entity, array(﻿
	 
# anottation 
* @Method({"GET", "POST"})
'action' => $this->generateUrl('nuevoUsuario'),
 

<hr/>
 
///// ENSEÑANZAS ZYOS  /////////////////////////////////////////////////////////
<br/>
#CONCATENAR
<br />
la normal
<br />
{{ consulta.getId }} {{ consulta.getNombre }}
<br />
en casos que se utilicen procesos de validacion como ejemplo
<br />
{{ consulta.getId == 5 'El nombre es: ' ~ consulta.getName : 'Empresa no valida: ' ~ consulta.getNombre }}
<br />
el tercer caso es muy similar al segundo cuando se utiliza en funciones
ejemplo: consulta a una base de datos de imagenes y hay una columna nombre del archivo = file
<br />
{{ asset('Mi/ruta/en/disco/carpeta/web/symfony/' ~ consulta.getFile) }}
<br />
Esas serian las opciones que existen para concatenar en twig sin generar codigo php
<br />
<br />

#validar constraints validator
<br />
<br />
    /**
     * UsuariosController::agregarAction()
     * 
     * @Route(path="/agregar", name="agregarUsuario")
     * @Method({"GET", "POST"})
     * @return
     */
    public function agregarAction(Request $request)
    {
        $usuario = new Usuarios();
        $form = $this->createCreateForm($usuario);
        
        $form->handleRequest($request);
        
// CORRECCIONES ZYOS validaciones constrain INICIO 
        if($form->isSubmitted() AND $form->isValid()) {
            $em = $this->getDoctrine()->getManager();
            
            $em->persist($usuario);
            $em->flush();
            
            //Este lo cambia a donde lo quiera enviar
            return $this->redirectToRoute('indexUsuarios');
        }
// CORRECCIONES ZYOS validaciones constrain fin 
        
        return $this->render('FixServicemeBundle:Usuarios:agregar.html.twig',  array('form' => $form->createView()));   
        
    }



/////////////otros
Hola a todos, cansado ya de que caduque la sesión del phpMyAdmin a los 1440 segundos, busque la manera de aumentar dicho valor por lo menos a una hora.

La solución a sido sencilla...
En la carpeta donde esta instalado el phpMyAdmin, hay que editar el archivo libraries/config.default.php

y modificar la linea:
1
$cfg['LoginCookieValidity'] = 1440;
por (en mi caso a una hora):
1
$cfg['LoginCookieValidity'] = 3600;

Pero también hay que aumentar el tamaño en el php.ini, ya que, si en PHP el limite es 1440, por mucho que aumentemos en el phpMyAdmin, el PHP cortara a los 1440.

En el archivo php.ini, hay que modificar la linea:
1
session.gc_maxlifetime = 1440
por:
1
session.gc_maxlifetime = 3600


Hay que reiniciar el Apache o el servidor web que utilicéis para que los cambios tengan efecto!!

 
 /////
 
 
 
 

	
	

