<?php

 
# 
</br>


# Instalar
	</br>
	$ php.exe -r "readfile('https://symfony.com/installer');" > symfony
	</br>

# creación proyecto nombre igual carpeta
	</br>
	$ php.exe symfony new miproyectoy
	</br>


# crear Bundle Bundle name [FixWebBundle]:  [annotation] [src/] 
	</br>
	$ php.exe bin/console generate:bundle
	</br>


#Controller  [annotation][twig]
/**
 * @Route(path="/blog")
 */
	 </br>
	$ php.exe bin/console generate:controller
	</br>
/**
 * BlogController::indexAction()
 * 
 * @Route(path="/index", name="taller")
 * @return void
 */

 
 #Entity Doctrine 
	 </br>
	$ php.exe bin/console doctrine:generate:entity
	 </br>
// [annotation]:
// The Entity shortcut name: FixServicemeBundle:Estados
// New field name (press <return> to stop adding fields): Nombre 
	</br>
// crear tablas en bd    --------    nueva table *************_fix
	 </br>
	$ php.exe bin/console doctrine:schema:update --force
	 </br>

    # forms
  	 </br>
  $ php.exe bin/console doctrine:generate:form FixServicemeBundle:Usuarios
 	 </br>

  # actualizar metodos set y get de las relaciones  
  	 </br>
  php.exe bin/console doctrine:generate:entities FixServicemeBundle
 	 </br>
  #
	<br/>
 #seguridad

$ php.exe bin/console generate:controller --no-interaction --controller*FixServicemeBundle:Security



 
	<br />
documentacion de symfony entrar a bundles y seleccionar bundlefixturesbundle
#composer require --dev doctrine/doctrine-fixtures-bundle
    <br />

# por consola xampp up bd
    # mysql -u root -p serviceme_2017 < serviceme_2017.sql
	mysql -u root -p mcr < mcr.sql
	<br/>
    Enter password: ******
    <br/>
	consola <br/> 
	php.exe bin/console doctrine:database:import mcr.sql


  
 <hr/>


 
    ///// ENSEÑANZAS ZYOS  /////////////////////////////////////////////////////////
    <br/>
    #CONCATENAR
    <br />
    la normal
    <br />
    {{ consulta.getId }} {{ consulta.getNombre }}
    <br />
    en casos que se utilicen procesos de validacion como ejemplo
    <br />
    {{ consulta.getId == 5 'El nombre es: ' ~ consulta.getName : 'Empresa no valida: ' ~ consulta.getNombre }}
    <br />
    el tercer caso es muy similar al segundo cuando se utiliza en funciones
    ejemplo: consulta a una base de datos de imagenes y hay una columna nombre del archivo = file
    <br />
    {{ asset('Mi/ruta/en/disco/carpeta/web/symfony/' ~ consulta.getFile) }}
    <br />
    Esas serian las opciones que existen para concatenar en twig sin generar codigo php
    <br />
    <br />


    #validar constraints validator
    <br />
    <br />
        /**
         * UsuariosController::agregarAction()
         *
         * @Route(path="/agregar", name="agregarUsuario")
         * @Method({"GET", "POST"})
         * @return
         */
        public function agregarAction(Request $request)
        {
            $usuario = new Usuarios();
            $form = $this->createCreateForm($usuario);

            $form->handleRequest($request);

    // CORRECCIONES ZYOS validaciones constrain INICIO
            if($form->isSubmitted() AND $form->isValid()) {
                $em = $this->getDoctrine()->getManager();

                $em->persist($usuario);
                $em->flush();

                //Este lo cambia a donde lo quiera enviar
                return $this->redirectToRoute('indexUsuarios');
            }
    // CORRECCIONES ZYOS validaciones constrain fin

            return $this->render('FixServicemeBundle:Usuarios:agregar.html.twig',  array('form' => $form->createView()));

        }



    /////////////


	
	

